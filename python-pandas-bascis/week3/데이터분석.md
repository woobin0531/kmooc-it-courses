# Week 03 – Pandas DataFrame 개요 및 활용

## 📌 학습 목표

- Pandas를 활용하여 DataFrame을 생성하고 구조 이해
- 다양한 함수로 데이터프레임을 조회, 필터링, 수정
- 컬럼 단위 연산 및 조건 기반 데이터 추출 방법 학습

---

## 🧩 Pandas 데이터프레임이란?

- **2차원 구조의 테이블 형태** (행 + 열)
- **데이터 분석 및 전처리** 시 가장 많이 사용
- 행(Row), 열(Column), 인덱스(Index), 값(Value)로 구성됨

---

## 📥 Pandas 데이터프레임 생성

```python
import pandas as pd

# 딕셔너리 기반 생성
df1 = pd.DataFrame({
    "a": [1, 2, 3],
    "b": [4, 5, 6],
    "c": [7, 8, 9]
})

# 리스트 + columns 지정
df2 = pd.DataFrame(
    [[1, 2, 3], [4, 5, 6], [7, 8, 9]],
    columns=['a', 'b', 'c']
)

# CSV 파일로부터 로드
df = pd.read_csv('file1.csv')
```

---

## 🔍 데이터프레임 기본 정보 확인

```python
df.head()         # 상위 5개 행
df.tail()         # 하위 5개 행
df.shape          # (행, 열) 튜플
df.columns        # 컬럼명 목록
df.info()         # 타입, 결측치 등 요약 정보
df.describe()     # 수치형 컬럼 요약 통계
```

---

## 📑 컬럼 선택 및 슬라이싱

```python
# 특정 컬럼 여러 개 선택
df[['col1', 'col2']]

# 행 슬라이싱
df[7:10]  # 인덱스 7 ~ 9행 추출
```

---

## 🔁 인덱싱 방법 두 가지

| 접근 방식 | 설명                   | 예시                 |
| --------- | ---------------------- | -------------------- |
| `.loc[]`  | 레이블(이름) 기반 접근 | `df.loc[102, 'age']` |
| `.iloc[]` | 정수 위치 기반 접근    | `df.iloc[3, 2]`      |

---

## 🧪 조건 필터링 (Boolean Indexing)

```python
# 예: 성별이 'M'인 데이터만 추출
df2[df2['성별'] == 'M']
```

---

## ➕ 컬럼 추가 및 삭제

```python
# 컬럼 추가
df['double_amt'] = df['amount'] * 2

# 컬럼 삭제
df.drop('double_amt', axis=1, inplace=True)
```

> axis=1: 열 기준 삭제 / inplace=True: 원본 변경

---

## ✅ 핵심 정리

| 항목        | 설명                                                 |
| ----------- | ---------------------------------------------------- |
| 생성        | `pd.DataFrame()` 또는 `read_csv()`로 생성            |
| 조회        | `head()`, `info()`, `shape`, `columns`, `describe()` |
| 인덱싱      | `.loc[]` / `.iloc[]` 사용 가능                       |
| 슬라이싱    | `df[2:5]`, `df[['col1', 'col2']]`                    |
| 조건 필터링 | `df[df['성별'] == 'M']`                              |
| 컬럼 조작   | `df['새컬럼'] = ...`, `df.drop()`                    |

---

## 💡 예제 코드 모음

```python
import pandas as pd

# 생성
df = pd.DataFrame({
    'name': ['A', 'B', 'C'],
    'age': [25, 30, 35],
    'gender': ['M', 'F', 'M']
})

# 조건 추출
male_df = df[df['gender'] == 'M']

# 컬럼 연산
df['double_age'] = df['age'] * 2

# 컬럼 삭제
df.drop('double_age', axis=1, inplace=True)

# 슬라이싱
subset = df[1:3]
```
